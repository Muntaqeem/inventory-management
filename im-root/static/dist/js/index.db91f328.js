(function(e){function t(t){for(var l,a,n=t[0],s=t[1],u=t[2],d=0,b=[];d<n.length;d++)a=n[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&(e[l]=s[l]);i&&i(t);while(b.length)b.shift()();return r.push.apply(r,u||[]),c()}function c(){for(var e,t=0;t<r.length;t++){for(var c=r[t],l=!0,n=1;n<c.length;n++){var s=c[n];0!==o[s]&&(l=!1)}l&&(r.splice(t--,1),e=a(a.s=c[0]))}return e}var l={},o={index:0},r=[];function a(t){if(l[t])return l[t].exports;var c=l[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=l,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(c,l,function(t){return e[t]}.bind(null,l));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/static/dist/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var u=0;u<n.length;u++)t(n[u]);var i=s;r.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0a29":function(e,t,c){},3382:function(e,t,c){"use strict";c("a9b3")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var l=c("7a23"),o={id:"nav"};function r(e,t,c,r,a,n){var s=Object(l["w"])("NavbarComponent"),u=Object(l["w"])("router-view");return Object(l["r"])(),Object(l["d"])(l["a"],null,[Object(l["e"])("div",o,[Object(l["h"])(s)]),Object(l["h"])(u)],64)}var a={class:"navbar navbar-expand-lg navbar-light bg-light my-navbar"},n={class:"container-fluid"},s=Object(l["g"])(" স্বপ্নের ঠিকানা "),u=Object(l["f"])('<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav ms-auto"><li class="nav-item"><a class="btn btn-outline-success" href="/accounts/logout/">Logout</a></li></ul></div>',2);function i(e,t,c,o,r,i){var d=Object(l["w"])("router-link");return Object(l["r"])(),Object(l["d"])("nav",a,[Object(l["e"])("div",n,[Object(l["h"])(d,{class:"navbar-brand",to:{name:"home"}},{default:Object(l["D"])((function(){return[s]})),_:1}),u])])}var d={name:"NavbarComponent"},b=(c("ff57"),c("6b0d")),p=c.n(b);const O=p()(d,[["render",i]]);var j=O,m={name:"App",components:{NavbarComponent:j}};c("79b9");const v=p()(m,[["render",r]]);var h=v,g=c("6c02"),f=(c("b0c0"),{class:"containerRoot",id:"home"}),y={class:"customer"},w={class:"container"},N={class:"row"},P={class:"col-lg-6"},S={class:"sticky-top"},x={class:"customer-information"},C=Object(l["e"])("h3",null,"Customer",-1),T={class:"customer-info-box"},_={class:"form-group row"},D={class:"form-group row"},A=Object(l["e"])("label",{for:"customerAddress",class:"col-lg-4 col-form-label"},"Customer Name",-1),k={class:"col-lg-8"},R={class:"form-group row"},q=Object(l["e"])("label",{for:"customerAddress",class:"col-lg-4 col-form-label"},"Address",-1),E={class:"col-lg-8"},B={class:"form-group row"},L=Object(l["e"])("label",{for:"customerContact",class:"col-lg-4 col-form-label"},"Contact",-1),I={class:"col-lg-8"},V={class:"product-information"},U=Object(l["e"])("h3",null,"Product",-1),M={class:"product-info-box"},F={class:"form-group row"},G=Object(l["e"])("label",{for:"productName",class:"col-lg-4 col-form-label"},"Product Name",-1),Q={class:"col-lg-8"},W=["value"],Y={id:"datalistOptions2"},J=["value"],H=Object(l["e"])("div",{class:"row product-image"},[Object(l["e"])("div",{class:"col-lg-4"},[Object(l["e"])("p",null,"Product Image")]),Object(l["e"])("div",{class:"col-lg-8"},[Object(l["e"])("img",{src:"{{ productImage }}",class:""})])],-1),K={class:"row"},X={class:"col-lg-6"},$={class:"form-group row"},z=Object(l["e"])("label",{for:"productBarcode",class:"col-lg-4 col-form-label"},"Barcode",-1),Z={class:"col-lg-8"},ee={class:"col-lg-6"},te={class:"form-group row"},ce=Object(l["e"])("label",{for:"productQuantity",class:"col-lg-4 col-form-label"},"Quantity",-1),le={class:"col-lg-8"},oe={class:"row"},re={class:"col-lg-6"},ae={class:"form-group row"},ne=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Price",-1),se={class:"col-lg-8"},ue={class:"col-lg-6"},ie={class:"form-group row"},de=Object(l["e"])("label",{for:"productDiscount",class:"col-lg-4 col-form-label"},"Discount (%)",-1),be={class:"col-lg-8"},pe={class:"col-lg-6"},Oe={class:"form-group row"},je=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Total Price",-1),me={class:"col-lg-8"},ve=["value"],he={class:"product-button"},ge={class:"warehouse-information"},fe=Object(l["e"])("h3",null,"Warehouse",-1),ye={class:"warehouse-info-box"},we={class:"form-group row"},Ne=Object(l["e"])("label",{class:"col-lg-4 col-form-label"},"Warehouse Name",-1),Pe={class:"col-lg-8"},Se=["value"],xe={class:"form-group row"},Ce=Object(l["e"])("label",{for:"warehouseInvoice",class:"col-lg-4 col-form-label"},"Invoice No",-1),Te={class:"col-lg-8"},_e={class:"form-group row"},De=Object(l["e"])("label",{for:"warehouseDate",class:"col-lg-4 col-form-label"},"Date",-1),Ae={class:"col-lg-8"},ke={class:"form-group row"},Re=Object(l["e"])("label",{for:"warehousePayment",class:"col-lg-4 col-form-label"},"Payment",-1),qe={class:"col-lg-8"},Ee=Object(l["e"])("div",{class:"sell-submit-btn"},[Object(l["e"])("button",{type:"submit",class:"btn btn-success"},"Submit")],-1),Be={class:"col-lg-6"},Le={class:"invoice-information"},Ie=Object(l["e"])("h3",null,"Invoice",-1),Ve={class:"invoice-info-box"},Ue={class:"invoice-heading"},Me={class:"invoice-info"},Fe={class:"row"},Ge={class:"col-lg-6"},Qe=Object(l["e"])("strong",null,"Customer Name:",-1),We={class:"col-lg-6 text-right-align"},Ye=Object(l["e"])("strong",null,"Invoice Number:",-1),Je={class:"col-lg-6"},He=Object(l["e"])("strong",null,"Address:",-1),Ke=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Contact No:"),Object(l["g"])(" [Contact_No]")])],-1),Xe={class:"row"},$e={class:"col-lg-6"},ze=Object(l["e"])("strong",null,"Contact:",-1),Ze=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Registration no:"),Object(l["g"])(" [Reg No/Vat No]")])],-1),et=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),tt=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Address:"),Object(l["g"])(" Bogra Sadar")])],-1),ct=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),lt={class:"col-lg-6 text-right-align"},ot=Object(l["e"])("strong",null,"Date:",-1),rt={class:"invoice-table"},at=Object(l["e"])("h4",null,"Product List",-1),nt={class:"table table-bordered"},st=Object(l["e"])("thead",null,[Object(l["e"])("tr",null,[Object(l["e"])("th",{scope:"col"},"Name"),Object(l["e"])("th",{scope:"col"},"Quantity"),Object(l["e"])("th",{scope:"col"},"Price"),Object(l["e"])("th",{scope:"col"},"Discount"),Object(l["e"])("th",{scope:"col"},"Total")])],-1),ut=["onClick"],it={scope:"row"},dt={class:"product-name"},bt=Object(l["e"])("div",{class:"product-name-hover"},[Object(l["e"])("span",null,[Object(l["e"])("i",{class:"bi bi-pencil-square"})])],-1),pt={class:"invoice-subtotal"},Ot={class:"row"},jt={class:"col-6 offset-6"},mt={class:"table"},vt=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Grand Total:")],-1),ht=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Paid:")],-1),gt=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Due:")],-1);function ft(e,t,c,o,r,a){var n=Object(l["w"])("AutoComplete");return Object(l["r"])(),Object(l["d"])("div",f,[Object(l["e"])("section",y,[Object(l["e"])("div",w,[Object(l["e"])("div",N,[Object(l["e"])("div",P,[Object(l["e"])("div",S,[Object(l["e"])("form",{onSubmit:t[14]||(t[14]=Object(l["G"])((function(){return a.submitSale&&a.submitSale.apply(a,arguments)}),["prevent"]))},[Object(l["e"])("div",x,[C,Object(l["e"])("div",T,[Object(l["e"])("div",_,[Object(l["h"])(n,{dataList:o.customerList,title:"Search Customer",onSelectedData:a.handleSelectCustomer,key:"customer"},null,8,["dataList","onSelectedData"])]),Object(l["e"])("div",D,[A,Object(l["e"])("div",k,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"customerName","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.customerName=e})},null,512),[[l["B"],o.customerName]])])]),Object(l["e"])("div",R,[q,Object(l["e"])("div",E,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"customerAddress","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.address=e})},null,512),[[l["B"],o.address]])])]),Object(l["e"])("div",B,[L,Object(l["e"])("div",I,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"customerContact","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.contact=e})},null,512),[[l["B"],o.contact]])])])])]),Object(l["e"])("div",V,[U,Object(l["e"])("div",M,[Object(l["e"])("div",F,[G,Object(l["e"])("div",Q,[Object(l["e"])("input",{class:"form-control",list:"datalistOptions2",id:"productName",placeholder:"Type to search...",onInput:t[3]||(t[3]=function(e){return a.handleSelectProduct(e)}),value:o.productName},null,40,W),Object(l["e"])("datalist",Y,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.value},null,8,J)})),128))])])]),H,Object(l["e"])("div",K,[Object(l["e"])("div",X,[Object(l["e"])("div",$,[z,Object(l["e"])("div",Z,[Object(l["E"])(Object(l["e"])("input",{onKeyup:t[4]||(t[4]=Object(l["F"])((function(e){return a.handleSelectProductWithBarcode(e)}),["enter"])),type:"text",class:"form-control",id:"productBarcode","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.barcode=e})},null,544),[[l["B"],o.barcode]])])])]),Object(l["e"])("div",ee,[Object(l["e"])("div",te,[ce,Object(l["e"])("div",le,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productQuantity","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.quantity=e})},null,512),[[l["B"],o.quantity]])])])])]),Object(l["e"])("div",oe,[Object(l["e"])("div",re,[Object(l["e"])("div",ae,[ne,Object(l["e"])("div",se,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"productPrice","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.price=e})},null,512),[[l["B"],o.price]])])])]),Object(l["e"])("div",ue,[Object(l["e"])("div",ie,[de,Object(l["e"])("div",be,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productDiscount","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.discount=e})},null,512),[[l["B"],o.discount]])])])]),Object(l["e"])("div",pe,[Object(l["e"])("div",Oe,[je,Object(l["e"])("div",me,[Object(l["e"])("input",{type:"number",class:"form-control",id:"productPrice",readonly:"",value:a.getTotalPrice()},null,8,ve)])])])]),Object(l["e"])("div",he,[Object(l["e"])("button",{class:"btn btn-success",type:"button",onClick:t[9]||(t[9]=function(e){return a.addProduct()})},"Add Product")])])]),Object(l["e"])("div",ge,[fe,Object(l["e"])("div",ye,[Object(l["e"])("div",we,[Ne,Object(l["e"])("div",Pe,[Object(l["E"])(Object(l["e"])("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.warehouse=e})},[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.warehouseList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.id},Object(l["y"])(e.name),9,Se)})),128))],512),[[l["A"],o.warehouse]])])]),Object(l["e"])("div",xe,[Ce,Object(l["e"])("div",Te,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"warehouseInvoice","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.invoiceNo=e})},null,512),[[l["B"],o.invoiceNo]])])]),Object(l["e"])("div",_e,[De,Object(l["e"])("div",Ae,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"warhouseDatepicker","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.dateSelected=e})},null,512),[[l["B"],o.dateSelected]])])]),Object(l["e"])("div",ke,[Re,Object(l["e"])("div",qe,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"warhousePayment","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.paymentReceived=e})},null,512),[[l["B"],o.paymentReceived]])])])])]),Ee],32)])]),Object(l["e"])("div",Be,[Object(l["e"])("div",Le,[Ie,Object(l["e"])("div",Ve,[Object(l["e"])("div",Ue,[Object(l["e"])("h4",null,Object(l["y"])(o.COMPANY_NAME),1)]),Object(l["e"])("div",Me,[Object(l["e"])("div",Fe,[Object(l["e"])("div",Ge,[Object(l["e"])("p",null,[Qe,Object(l["g"])(" "+Object(l["y"])(o.customerName),1)])]),Object(l["e"])("div",We,[Object(l["e"])("p",null,[Ye,Object(l["g"])(" "+Object(l["y"])(o.invoiceNo),1)])]),Object(l["e"])("div",Je,[Object(l["e"])("p",null,[He,Object(l["g"])(" "+Object(l["y"])(o.address),1)])]),Ke]),Object(l["e"])("div",Xe,[Object(l["e"])("div",$e,[Object(l["e"])("p",null,[ze,Object(l["g"])(" "+Object(l["y"])(o.contact),1)])]),Ze,et,tt,ct,Object(l["e"])("div",lt,[Object(l["e"])("p",null,[ot,Object(l["g"])(Object(l["y"])(o.dateSelected),1)])])])]),Object(l["e"])("div",rt,[at,Object(l["e"])("table",nt,[st,Object(l["e"])("tbody",null,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productTable,(function(e){return Object(l["r"])(),Object(l["d"])("tr",{key:e.barcode,onClick:function(t){return a.setProductFromTable(e)}},[Object(l["e"])("th",it,[Object(l["e"])("div",dt,[Object(l["g"])(Object(l["y"])(e.productName)+" ",1),bt])]),Object(l["e"])("td",null,Object(l["y"])(e.quantity),1),Object(l["e"])("td",null,Object(l["y"])(e.price),1),Object(l["e"])("td",null,Object(l["y"])(e.discount),1),Object(l["e"])("td",null,Object(l["y"])(e.totalPrice),1)],8,ut)})),128))])])]),Object(l["e"])("div",pt,[Object(l["e"])("div",Ot,[Object(l["e"])("div",jt,[Object(l["e"])("table",mt,[Object(l["e"])("tbody",null,[Object(l["e"])("tr",null,[vt,Object(l["e"])("td",null,Object(l["y"])(a.getGrandTotal()),1)]),Object(l["e"])("tr",null,[ht,Object(l["e"])("td",null,Object(l["y"])(o.paymentReceived),1)]),Object(l["e"])("tr",null,[gt,Object(l["e"])("td",null,Object(l["y"])(a.getAmountDue()),1)])])])])])])])])])])])])])}var yt=c("2909"),wt=c("1da1"),Nt=(c("96cf"),c("0d03"),c("4160"),c("d3b7"),c("159b"),c("7db0"),c("25f0"),c("c740"),c("a434"),c("99af"),c("c35a"),c("a9e3"),c("e9c4"),c("bc3a"));Nt.defaults.xsrfCookieName="csrftoken",Nt.defaults.xsrfHeaderName="X-CSRFToken";var Pt=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/master/customer-list/",e.prev=1,e.next=4,Nt.get(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response),alert(JSON.stringify(e.t0.response.data));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),St=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/master/supplier-list/",e.prev=1,e.next=4,Nt.get(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response),alert(JSON.stringify(e.t0.response.data));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/master/product-list/",e.prev=1,e.next=4,Nt.get(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response),alert(JSON.stringify(e.t0.response.data));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),Ct=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="/master/warehouse-list/",e.prev=1,e.next=4,Nt.get(t);case 4:return e.abrupt("return",e.sent);case 7:e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response),alert(JSON.stringify(e.t0.response.data));case 11:return e.abrupt("return",{});case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),Tt=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c="/sale/sales/",e.prev=1,e.next=4,Nt.post(c,t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response.data),alert(JSON.stringify(e.t0.response.data)),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(t){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c="/sale/purchase/",e.prev=1,e.next=4,Nt.post(c,t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),console.log(e.t0.response.data),alert(JSON.stringify(e.t0.response.data)),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),Dt="স্বপ্নের ঠিকানা",At={name:"Home",components:{},setup:function(){var e=Object(l["u"])(null),t=Object(l["u"])(null),c=Object(l["u"])(null),o=Object(l["u"])(""),r=":home:",a=Object(l["u"])(null),n=Object(l["u"])(null),s=Object(l["u"])(null),u=Object(l["u"])(null),i=Object(l["u"])(null),d=Object(l["u"])(null),b=Object(l["u"])(null),p=Object(l["u"])(null),O=Object(l["u"])("1"),j=Object(l["u"])(null),m=Object(l["u"])(null),v=Object(l["u"])(null),h=Object(l["u"])([]),g=Object(l["u"])(null),f=Object(l["u"])(null),y=Object(l["u"])(null),w=Object(l["u"])(null),N=Object(l["u"])(null),P=Object(l["u"])(null);P.value=[];var S=new Date;return m.value=S.getDate()+"/"+(S.getMonth()+1)+"/"+S.getFullYear(),Object(l["p"])(Object(wt["a"])(regeneratorRuntime.mark((function l(){var o,n,s,u,i,d;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o=[],n=window.jQuery,n("#warhouseDatepicker").datepicker(),l.next=5,Pt();case 5:return s=l.sent,console.log(r,"api-customer-list",s.data),s.data.forEach((function(e){var t={};t.value=e.name,t.id=e.contact,o.push(t)})),t.value=s.data,e.value=o,u=[],l.next=13,xt();case 13:return i=l.sent,console.log(r,"api-product-list",i.data),i.data.forEach((function(e){var t={};t.value=e.product_name.name+" - "+e.category.name,t.id=e.barcode,u.push(t)})),c.value=i.data,a.value=u,l.next=20,Ct();case 20:d=l.sent,console.log(r,"api-warehouse-list",d.data),N.value=d.data,N.value.length>0&&(O.value=N.value[0].id);case 24:case"end":return l.stop()}}),l)})))),{customerList:e,selectedCustomer:o,componentName:r,COMPANY_NAME:Dt,productList:a,address:n,contact:s,barcode:u,quantity:i,price:d,discount:b,totalPrice:p,warehouse:O,invoiceNo:j,dateSelected:m,due:v,invoiceData:h,productName:g,customerName:f,paymentReceived:y,productImage:w,warehouseList:N,rawProductList:c,rawCustomerList:t,productTable:P}},methods:{handleSelectCustomer:function(e){null!=e&&(this.selectedCustomer=this.rawCustomerList.find((function(t){return t.contact===e.id})),this.customerName=this.selectedCustomer.name,this.address=this.selectedCustomer.address,this.contact=this.selectedCustomer.contact)},handleSelectProduct:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.product_name.name+" - "+t.category.name===e.target.value}));null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.barcode=t.barcode,this.quantity=1,this.price=t.default_sales_price,this.discount=0,this.totalPrice=this.price)},handleSelectProductWithBarcode:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.barcode.toString()===e.target.value.toString()}));console.log(t),null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.quantity=1,this.price=t.default_sales_price,this.discount=0,this.totalPrice=this.price)},getTotalPrice:function(){if(null==this.barcode)return 0;var e=this.price*this.quantity;return e-=e*this.discount/100,e},addProduct:function(){var e,t={};t.productName=this.productName,t.quantity=this.quantity,t.discount=this.discount,t.price=this.price,t.totalPrice=this.getTotalPrice(),t.barcode=this.barcode;var c=this.productTable.findIndex((function(e){return e.productName===t.productName}));-1!==c&&this.productTable.splice(c,1),0!==t.quantity&&(this.productTable.push(t),(e=console).log.apply(e,["table"].concat(Object(yt["a"])(this.productTable))),this.resetProduct())},getGrandTotal:function(){var e=0;return this.productTable.forEach((function(t){return e+=t.totalPrice})),Math.floor(e)},getAmountDue:function(){var e=this.getGrandTotal()-this.paymentReceived;return null!=e&&(e=Number.parseFloat(e)),e},resetProduct:function(){this.productName="",this.quantity=0,this.discount=0,this.productImage="",this.barcode="",this.price=0},getDateToday:function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},setProductFromTable:function(e){this.productName=e.productName,this.quantity=e.quantity,this.discount=e.discount,this.price=e.price,this.barcode=e.barcode,this.totalPrice=this.getTotalPrice()},submitSale:function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t,c,l,o,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Do you confirm to submit Sale?")){e.next=2;break}return e.abrupt("return");case 2:if(0!=this.isValidSale()){e.next=4;break}return e.abrupt("return");case 4:return t={},t.name=this.customerName,t.contact=this.contact,t.address=this.address,t.invoice_no=this.invoiceNo,t.payment_received_gt=this.paymentReceived,t.payment_due_gt=this.getAmountDue(),t.date=this.dateSelected,null!=this.selectedCustomer&&(t.customer=this.selectedCustomer.id),t.warehouse=this.warehouse,c=[],l={},l.debit_or_credit="DEBIT",l.amount=this.getGrandTotal(),l.date=this.dateSelected,l.payment_type="CASH",l.invoice_no=this.invoiceNo,null!=this.selectedCustomer&&(l.customer=this.selectedCustomer.id),c.push(l),t.payment=c,o=[],this.productTable.forEach((function(e){var t={};t.product=e.barcode,t.invoice_no=a.invoiceNo,t.quantity=e.quantity,t.discount_in_percent=e.discount,t.price=e.price,o.push(t)})),t.productAndQuantity=o,console.log(this.componentName,"sale-payload: ",JSON.stringify(t)),e.next=30,Tt(t);case 30:r=e.sent,201===r.status&&alert("Sale Record Complete!");case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isValidSale:function(){return 0!=this.productTable.length||(alert("Please add some product!"),!1)}}};c("3382");const kt=p()(At,[["render",ft]]);var Rt=kt,qt={class:"containerRoot",id:"home"},Et=Object(l["e"])("h3",{class:"col-lg text-center mt-3",style:{"font-weight":"bold"}},[Object(l["e"])("span",null,"Sales")],-1),Bt={class:"customer"},Lt={class:"container"},It={class:"row"},Vt={class:"col-lg-6"},Ut={class:"sticky-top"},Mt={class:"customer-information"},Ft={class:"customer-info-box"},Gt={class:"card"},Qt=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Customer")],-1),Wt={class:"card-body"},Yt={class:"form-group row"},Jt={class:"form-group row"},Ht=Object(l["e"])("label",{for:"customerAddress",class:"col-lg-4 col-form-label"},"Customer Name",-1),Kt={class:"col-lg-8"},Xt={class:"form-group row"},$t=Object(l["e"])("label",{for:"customerAddress",class:"col-lg-4 col-form-label"},"Address",-1),zt={class:"col-lg-8"},Zt={class:"form-group row"},ec=Object(l["e"])("label",{for:"customerContact",class:"col-lg-4 col-form-label"},"Contact",-1),tc={class:"col-lg-8"},cc={class:"product-information"},lc={class:"product-info-box"},oc={class:"card"},rc=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Product")],-1),ac={class:"card-body"},nc={class:"form-group row"},sc=Object(l["e"])("label",{for:"productName",class:"col-lg-4 col-form-label"},"Product Name",-1),uc={class:"col-lg-8"},ic=["value"],dc={id:"datalistOptions2"},bc=["value"],pc=Object(l["e"])("div",{class:"row product-image"},[Object(l["e"])("div",{class:"col-lg-4 col-form-label"},[Object(l["e"])("p",null,"Product Image")]),Object(l["e"])("div",{class:"col-lg-8"},[Object(l["e"])("img",{src:"{{ productImage }}",class:""})])],-1),Oc={class:"row"},jc={class:"col-lg-6"},mc={class:"form-group row"},vc=Object(l["e"])("label",{for:"productBarcode",class:"col-lg-4 col-form-label"},"Barcode",-1),hc={class:"col-lg-8"},gc={class:"col-lg-6"},fc={class:"form-group row"},yc=Object(l["e"])("label",{for:"productQuantity",class:"col-lg-4 col-form-label"},"Quantity",-1),wc={class:"col-lg-8"},Nc={class:"row"},Pc={class:"col-lg-6"},Sc={class:"form-group row"},xc=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Price",-1),Cc={class:"col-lg-8"},Tc={class:"col-lg-6"},_c={class:"form-group row"},Dc=Object(l["e"])("label",{for:"productDiscount",class:"col-lg-4 col-form-label"},"Discount (%)",-1),Ac={class:"col-lg-8"},kc={class:"col-lg-6"},Rc={class:"form-group row"},qc=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Total Price",-1),Ec={class:"col-lg-8"},Bc=["value"],Lc={class:"card-footer"},Ic={class:"product-button"},Vc={class:"warehouse-information"},Uc={class:"warehouse-info-box"},Mc={class:"card"},Fc=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Warehouse")],-1),Gc={class:"card-body"},Qc={class:"form-group row"},Wc=Object(l["e"])("label",{class:"col-lg-4 col-form-label"},"Warehouse Name",-1),Yc={class:"col-lg-8"},Jc=["value"],Hc={class:"form-group row"},Kc=Object(l["e"])("label",{for:"warehouseInvoice",class:"col-lg-4 col-form-label"},"Invoice No",-1),Xc={class:"col-lg-8"},$c={class:"form-group row"},zc=Object(l["e"])("label",{for:"warehouseDate",class:"col-lg-4 col-form-label"},"Date",-1),Zc={class:"col-lg-8"},el={class:"form-group row"},tl=Object(l["e"])("label",{for:"warehousePayment",class:"col-lg-4 col-form-label"},"Payment",-1),cl={class:"col-lg-8"},ll=Object(l["e"])("div",{class:"sell-submit-btn"},[Object(l["e"])("button",{type:"submit",class:"btn btn-success"},"Submit")],-1),ol={class:"col-lg-6"},rl={class:"invoice-information"},al=Object(l["e"])("h5",null,"Invoice",-1),nl={class:"invoice-info-box"},sl={class:"invoice-heading card-header"},ul=Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Registration no:"),Object(l["g"])(" [Reg No/Vat No]")],-1),il={class:"invoice-info"},dl={class:"row"},bl={class:"col-lg-6"},pl=Object(l["e"])("strong",null,"Customer Name:",-1),Ol={class:"col-lg-6 text-right-align"},jl=Object(l["e"])("strong",null,"Invoice Number:",-1),ml={class:"col-lg-6"},vl=Object(l["e"])("strong",null,"Address:",-1),hl=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Contact No:"),Object(l["g"])(" [Contact_No]")])],-1),gl={class:"row"},fl={class:"col-lg-6"},yl=Object(l["e"])("strong",null,"Contact:",-1),wl=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Invoice Type:"),Object(l["g"])(" Customer")])],-1),Nl=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),Pl=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Address:"),Object(l["g"])(" Bogra Sadar")])],-1),Sl=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),xl={class:"col-lg-6 text-right-align"},Cl=Object(l["e"])("strong",null,"Date:",-1),Tl={class:"invoice-table"},_l=Object(l["e"])("h5",null,"Product List",-1),Dl={class:"table table-bordered card-header"},Al=Object(l["e"])("thead",null,[Object(l["e"])("tr",null,[Object(l["e"])("th",{scope:"col"},"Name"),Object(l["e"])("th",{scope:"col"},"Quantity"),Object(l["e"])("th",{scope:"col"},"Price"),Object(l["e"])("th",{scope:"col"},"Discount"),Object(l["e"])("th",{scope:"col"},"Total")])],-1),kl=["onClick"],Rl={scope:"row"},ql={class:"product-name"},El=Object(l["e"])("div",{class:"product-name-hover"},[Object(l["e"])("span",null,[Object(l["e"])("i",{class:"bi bi-pencil-square"})])],-1),Bl={class:"invoice-subtotal"},Ll={class:"row"},Il={class:"col-6 offset-6"},Vl={class:"table"},Ul=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Grand Total:")],-1),Ml=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Paid:")],-1),Fl=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Due:")],-1);function Gl(e,t,c,o,r,a){var n=Object(l["w"])("AutoComplete");return Object(l["r"])(),Object(l["d"])("div",qt,[Et,Object(l["e"])("section",Bt,[Object(l["e"])("div",Lt,[Object(l["e"])("div",It,[Object(l["e"])("div",Vt,[Object(l["e"])("div",Ut,[Object(l["e"])("form",{onSubmit:t[14]||(t[14]=Object(l["G"])((function(){return a.submitSale&&a.submitSale.apply(a,arguments)}),["prevent"]))},[Object(l["e"])("div",Mt,[Object(l["e"])("div",Ft,[Object(l["e"])("div",Gt,[Qt,Object(l["e"])("div",Wt,[Object(l["e"])("div",Yt,[Object(l["h"])(n,{dataList:o.customerList,title:"Search Customer",onSelectedData:a.handleSelectCustomer,key:"customer"},null,8,["dataList","onSelectedData"])]),Object(l["e"])("div",Jt,[Ht,Object(l["e"])("div",Kt,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"customerName","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.customerName=e})},null,512),[[l["B"],o.customerName]])])]),Object(l["e"])("div",Xt,[$t,Object(l["e"])("div",zt,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"customerAddress","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.address=e})},null,512),[[l["B"],o.address]])])]),Object(l["e"])("div",Zt,[ec,Object(l["e"])("div",tc,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"customerContact","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.contact=e})},null,512),[[l["B"],o.contact]])])])])])])]),Object(l["e"])("div",cc,[Object(l["e"])("div",lc,[Object(l["e"])("div",oc,[rc,Object(l["e"])("div",ac,[Object(l["e"])("div",nc,[sc,Object(l["e"])("div",uc,[Object(l["e"])("input",{class:"form-control",list:"datalistOptions2",id:"productName",placeholder:"Type to search...",onInput:t[3]||(t[3]=function(e){return a.handleSelectProduct(e)}),value:o.productName},null,40,ic),Object(l["e"])("datalist",dc,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.value},null,8,bc)})),128))])])]),pc,Object(l["e"])("div",Oc,[Object(l["e"])("div",jc,[Object(l["e"])("div",mc,[vc,Object(l["e"])("div",hc,[Object(l["E"])(Object(l["e"])("input",{onKeyup:t[4]||(t[4]=Object(l["F"])((function(e){return a.handleSelectProductWithBarcode(e)}),["enter"])),type:"text",class:"form-control",id:"productBarcode","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.barcode=e})},null,544),[[l["B"],o.barcode]])])])]),Object(l["e"])("div",gc,[Object(l["e"])("div",fc,[yc,Object(l["e"])("div",wc,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productQuantity","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.quantity=e})},null,512),[[l["B"],o.quantity]])])])])]),Object(l["e"])("div",Nc,[Object(l["e"])("div",Pc,[Object(l["e"])("div",Sc,[xc,Object(l["e"])("div",Cc,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"productPrice","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.price=e})},null,512),[[l["B"],o.price]])])])]),Object(l["e"])("div",Tc,[Object(l["e"])("div",_c,[Dc,Object(l["e"])("div",Ac,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productDiscount","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.discount=e})},null,512),[[l["B"],o.discount]])])])]),Object(l["e"])("div",kc,[Object(l["e"])("div",Rc,[qc,Object(l["e"])("div",Ec,[Object(l["e"])("input",{type:"number",class:"form-control",id:"productPrice",readonly:"",value:a.getTotalPrice()},null,8,Bc)])])])])]),Object(l["e"])("div",Lc,[Object(l["e"])("div",Ic,[Object(l["e"])("button",{class:"btn btn-success",type:"button",onClick:t[9]||(t[9]=function(e){return a.addProduct()})},"Add / Update")])])])])]),Object(l["e"])("div",Vc,[Object(l["e"])("div",Uc,[Object(l["e"])("div",Mc,[Fc,Object(l["e"])("div",Gc,[Object(l["e"])("div",Qc,[Wc,Object(l["e"])("div",Yc,[Object(l["E"])(Object(l["e"])("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.warehouse=e})},[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.warehouseList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.id},Object(l["y"])(e.name),9,Jc)})),128))],512),[[l["A"],o.warehouse]])])]),Object(l["e"])("div",Hc,[Kc,Object(l["e"])("div",Xc,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"warehouseInvoice","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.invoiceNo=e})},null,512),[[l["B"],o.invoiceNo]])])]),Object(l["e"])("div",$c,[zc,Object(l["e"])("div",Zc,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"warhouseDatepicker","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.dateSelected=e}),readonly:""},null,512),[[l["B"],o.dateSelected]])])]),Object(l["e"])("div",el,[tl,Object(l["e"])("div",cl,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"warhousePayment","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.paymentReceived=e})},null,512),[[l["B"],o.paymentReceived]])])])])])])]),ll],32)])]),Object(l["e"])("div",ol,[Object(l["e"])("div",rl,[al,Object(l["e"])("div",nl,[Object(l["e"])("div",sl,[Object(l["e"])("h4",null,Object(l["y"])(o.COMPANY_NAME),1),ul]),Object(l["e"])("div",il,[Object(l["e"])("div",dl,[Object(l["e"])("div",bl,[Object(l["e"])("p",null,[pl,Object(l["g"])(" "+Object(l["y"])(o.customerName),1)])]),Object(l["e"])("div",Ol,[Object(l["e"])("p",null,[jl,Object(l["g"])(" "+Object(l["y"])(o.invoiceNo),1)])]),Object(l["e"])("div",ml,[Object(l["e"])("p",null,[vl,Object(l["g"])(" "+Object(l["y"])(o.address),1)])]),hl]),Object(l["e"])("div",gl,[Object(l["e"])("div",fl,[Object(l["e"])("p",null,[yl,Object(l["g"])(" "+Object(l["y"])(o.contact),1)])]),wl,Nl,Pl,Sl,Object(l["e"])("div",xl,[Object(l["e"])("p",null,[Cl,Object(l["g"])(Object(l["y"])(o.dateSelected),1)])])])]),Object(l["e"])("div",Tl,[_l,Object(l["e"])("table",Dl,[Al,Object(l["e"])("tbody",null,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productTable,(function(e){return Object(l["r"])(),Object(l["d"])("tr",{key:e.barcode,onClick:function(t){return a.setProductFromTable(e)}},[Object(l["e"])("th",Rl,[Object(l["e"])("div",ql,[Object(l["g"])(Object(l["y"])(e.productName)+" ",1),El])]),Object(l["e"])("td",null,Object(l["y"])(e.quantity),1),Object(l["e"])("td",null,Object(l["y"])(e.price),1),Object(l["e"])("td",null,Object(l["y"])(e.discount),1),Object(l["e"])("td",null,Object(l["y"])(e.totalPrice),1)],8,kl)})),128))])])]),Object(l["e"])("div",Bl,[Object(l["e"])("div",Ll,[Object(l["e"])("div",Il,[Object(l["e"])("table",Vl,[Object(l["e"])("tbody",null,[Object(l["e"])("tr",null,[Ul,Object(l["e"])("td",null,Object(l["y"])(a.getGrandTotal()),1)]),Object(l["e"])("tr",null,[Ml,Object(l["e"])("td",null,Object(l["y"])(o.paymentReceived),1)]),Object(l["e"])("tr",null,[Fl,Object(l["e"])("td",null,Object(l["y"])(a.getAmountDue()),1)])])])])])])])])])])])])])}var Ql={name:"Home",components:{},setup:function(){var e=Object(l["u"])(null),t=Object(l["u"])(null),c=Object(l["u"])(null),o=Object(l["u"])(""),r=":home:",a=Object(l["u"])(null),n=Object(l["u"])(null),s=Object(l["u"])(null),u=Object(l["u"])(null),i=Object(l["u"])(null),d=Object(l["u"])(null),b=Object(l["u"])(null),p=Object(l["u"])(null),O=Object(l["u"])("1"),j=Object(l["u"])(null),m=Object(l["u"])(null),v=Object(l["u"])(null),h=Object(l["u"])([]),g=Object(l["u"])(null),f=Object(l["u"])(null),y=Object(l["u"])(null),w=Object(l["u"])(null),N=Object(l["u"])(null),P=Object(l["u"])(null);P.value=[];var S=new Date;return m.value=S.getDate()+"/"+(S.getMonth()+1)+"/"+S.getFullYear(),Object(l["p"])(Object(wt["a"])(regeneratorRuntime.mark((function l(){var o,n,s,u,i,d;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o=[],n=window.jQuery,n("#warhouseDatepicker").datepicker(),l.next=5,Pt();case 5:return s=l.sent,console.log(r,"api-customer-list",s.data),s.data.forEach((function(e){var t={};t.value=e.name,t.id=e.contact,o.push(t)})),t.value=s.data,e.value=o,u=[],l.next=13,xt();case 13:return i=l.sent,console.log(r,"api-product-list",i.data),i.data.forEach((function(e){var t={};t.value=e.product_name.name+" - "+e.category.name,t.id=e.barcode,u.push(t)})),c.value=i.data,a.value=u,l.next=20,Ct();case 20:d=l.sent,console.log(r,"api-warehouse-list",d.data),N.value=d.data,N.value.length>0&&(O.value=N.value[0].id);case 24:case"end":return l.stop()}}),l)})))),{customerList:e,selectedCustomer:o,componentName:r,COMPANY_NAME:Dt,productList:a,address:n,contact:s,barcode:u,quantity:i,price:d,discount:b,totalPrice:p,warehouse:O,invoiceNo:j,dateSelected:m,due:v,invoiceData:h,productName:g,customerName:f,paymentReceived:y,productImage:w,warehouseList:N,rawProductList:c,rawCustomerList:t,productTable:P}},methods:{handleSelectCustomer:function(e){null!=e&&(this.selectedCustomer=this.rawCustomerList.find((function(t){return t.contact===e.id})),this.customerName=this.selectedCustomer.name,this.address=this.selectedCustomer.address,this.contact=this.selectedCustomer.contact)},handleSelectProduct:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.product_name.name+" - "+t.category.name===e.target.value}));null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.barcode=t.barcode,this.quantity=1,this.price=t.default_sales_price,this.discount=0,this.totalPrice=this.price)},handleSelectProductWithBarcode:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.barcode.toString()===e.target.value.toString()}));console.log(t),null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.quantity=1,this.price=t.default_sales_price,this.discount=0,this.totalPrice=this.price)},getTotalPrice:function(){if(null==this.barcode)return 0;var e=this.price*this.quantity;return e-=e*this.discount/100,e},addProduct:function(){var e,t={};t.productName=this.productName,t.quantity=this.quantity,t.discount=this.discount,t.price=this.price,t.totalPrice=this.getTotalPrice(),t.barcode=this.barcode;var c=this.productTable.findIndex((function(e){return e.productName===t.productName}));-1!==c&&this.productTable.splice(c,1),0!==t.quantity&&(this.productTable.push(t),this.paymentReceived=this.getGrandTotal(),(e=console).log.apply(e,["table"].concat(Object(yt["a"])(this.productTable))),this.resetProduct())},getGrandTotal:function(){var e=0;return this.productTable.forEach((function(t){return e+=t.totalPrice})),Math.floor(e)},getAmountDue:function(){var e=this.getGrandTotal()-this.paymentReceived;return null!=e&&(e=Number.parseFloat(e)),e},resetProduct:function(){this.productName="",this.quantity=0,this.discount=0,this.productImage="",this.barcode="",this.price=0},getDateToday:function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},setProductFromTable:function(e){this.productName=e.productName,this.quantity=e.quantity,this.discount=e.discount,this.price=e.price,this.barcode=e.barcode,this.totalPrice=this.getTotalPrice()},submitSale:function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t,c,l,o,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Do you confirm to submit Sale?")){e.next=2;break}return e.abrupt("return");case 2:if(0!=this.isValidSale()){e.next=4;break}return e.abrupt("return");case 4:return t={},t.name=this.customerName,t.contact=this.contact,t.address=this.address,t.invoice_no=this.invoiceNo,t.payment_received_gt=this.paymentReceived,t.payment_due_gt=this.getAmountDue(),t.date=this.dateSelected,null!=this.selectedCustomer&&(t.customer=this.selectedCustomer.id),t.warehouse=this.warehouse,c=[],l={},l.debit_or_credit="DEBIT",l.amount=this.getGrandTotal(),l.date=this.dateSelected,l.payment_type="CASH",l.invoice_no=this.invoiceNo,null!=this.selectedCustomer&&(l.customer=this.selectedCustomer.id),c.push(l),t.payment=c,o=[],this.productTable.forEach((function(e){var t={};t.product=e.barcode,t.invoice_no=a.invoiceNo,t.quantity=e.quantity,t.discount_in_percent=e.discount,t.price=e.price,o.push(t)})),t.productAndQuantity=o,console.log(this.componentName,"sale-payload: ",JSON.stringify(t)),e.next=30,Tt(t);case 30:r=e.sent,201===r.status&&(alert("Sale Record Complete!"),this.resetAll());case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetAll:function(){this.resetProduct(),this.selectedCustomer="",this.customerName="",this.address="",this.contact="",this.invoiceNo="",this.paymentReceived="",this.productTable=[]},isValidSale:function(){return 0!=this.productTable.length||(alert("Please add some product!"),!1)}}};c("8022");const Wl=p()(Ql,[["render",Gl]]);var Yl=Wl,Jl={class:"containerRoot",id:"home"},Hl=Object(l["e"])("h3",{class:"col-lg text-center mt-3",style:{"font-weight":"bold"}},[Object(l["e"])("span",null,"Purchase")],-1),Kl={class:"supplier"},Xl={class:"container"},$l={class:"row"},zl={class:"col-lg-6"},Zl={class:"sticky-top"},eo={class:"supplier-information"},to={class:"supplier-info-box"},co={class:"card"},lo=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Supplier")],-1),oo={class:"card-body"},ro={class:"form-group row"},ao={class:"form-group row"},no=Object(l["e"])("label",{for:"supplierAddress",class:"col-lg-4 col-form-label"},"Supplier Name",-1),so={class:"col-lg-8"},uo={class:"form-group row"},io=Object(l["e"])("label",{for:"supplierAddress",class:"col-lg-4 col-form-label"},"Address",-1),bo={class:"col-lg-8"},po={class:"form-group row"},Oo=Object(l["e"])("label",{for:"supplierContact",class:"col-lg-4 col-form-label"},"Contact",-1),jo={class:"col-lg-8"},mo={class:"product-information"},vo={class:"product-info-box"},ho={class:"card"},go=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Product")],-1),fo={class:"card-body"},yo={class:"form-group row"},wo=Object(l["e"])("label",{for:"productName",class:"col-lg-4 col-form-label"},"Product Name",-1),No={class:"col-lg-8"},Po=["value"],So={id:"datalistOptions2"},xo=["value"],Co=Object(l["e"])("div",{class:"row product-image"},[Object(l["e"])("div",{class:"col-lg-4 col-form-label"},[Object(l["e"])("p",null,"Product Image")]),Object(l["e"])("div",{class:"col-lg-8"},[Object(l["e"])("img",{src:"{{ productImage }}",class:""})])],-1),To={class:"row"},_o={class:"col-lg-6"},Do={class:"form-group row"},Ao=Object(l["e"])("label",{for:"productBarcode",class:"col-lg-4 col-form-label"},"Barcode",-1),ko={class:"col-lg-8"},Ro={class:"col-lg-6"},qo={class:"form-group row"},Eo=Object(l["e"])("label",{for:"productQuantity",class:"col-lg-4 col-form-label"},"Quantity",-1),Bo={class:"col-lg-8"},Lo={class:"row"},Io={class:"col-lg-6"},Vo={class:"form-group row"},Uo=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Price",-1),Mo={class:"col-lg-8"},Fo={class:"col-lg-6"},Go={class:"form-group row"},Qo=Object(l["e"])("label",{for:"productDiscount",class:"col-lg-4 col-form-label"},"Discount (%)",-1),Wo={class:"col-lg-8"},Yo={class:"col-lg-6"},Jo={class:"form-group row"},Ho=Object(l["e"])("label",{for:"productPrice",class:"col-lg-4 col-form-label"},"Total Price",-1),Ko={class:"col-lg-8"},Xo=["value"],$o={class:"card-footer"},zo={class:"product-button"},Zo={class:"warehouse-information"},er={class:"warehouse-info-box"},tr={class:"card"},cr=Object(l["e"])("div",{class:"card-header"},[Object(l["e"])("h5",null,"Warehouse")],-1),lr={class:"card-body"},or={class:"form-group row"},rr=Object(l["e"])("label",{class:"col-lg-4 col-form-label"},"Warehouse Name",-1),ar={class:"col-lg-8"},nr=["value"],sr={class:"form-group row"},ur=Object(l["e"])("label",{for:"warehouseInvoice",class:"col-lg-4 col-form-label"},"Invoice No",-1),ir={class:"col-lg-8"},dr={class:"form-group row"},br=Object(l["e"])("label",{for:"warehouseDate",class:"col-lg-4 col-form-label"},"Date",-1),pr={class:"col-lg-8"},Or={class:"form-group row"},jr=Object(l["e"])("label",{for:"warehousePayment",class:"col-lg-4 col-form-label"},"Payment",-1),mr={class:"col-lg-8"},vr=Object(l["e"])("div",{class:"sell-submit-btn"},[Object(l["e"])("button",{type:"submit",class:"btn btn-success"},"Submit")],-1),hr={class:"col-lg-6"},gr={class:"invoice-information"},fr=Object(l["e"])("h5",null,"Invoice",-1),yr={class:"invoice-info-box"},wr={class:"invoice-heading card-header"},Nr=Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Registration no:"),Object(l["g"])(" [Reg No/Vat No]")],-1),Pr={class:"invoice-info"},Sr={class:"row"},xr={class:"col-lg-6"},Cr=Object(l["e"])("strong",null,"Supplier Name:",-1),Tr={class:"col-lg-6 text-right-align"},_r=Object(l["e"])("strong",null,"Invoice Number:",-1),Dr={class:"col-lg-6"},Ar=Object(l["e"])("strong",null,"Address:",-1),kr=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Contact No:"),Object(l["g"])(" [Contact_No]")])],-1),Rr={class:"row"},qr={class:"col-lg-6"},Er=Object(l["e"])("strong",null,"Contact:",-1),Br=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Invoice Type:"),Object(l["g"])(" Supplier")])],-1),Lr=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),Ir=Object(l["e"])("div",{class:"col-lg-6 text-right-align"},[Object(l["e"])("p",null,[Object(l["e"])("strong",null,"Address:"),Object(l["g"])(" Bogra Sadar")])],-1),Vr=Object(l["e"])("div",{class:"col-lg-6"},[Object(l["e"])("p")],-1),Ur={class:"col-lg-6 text-right-align"},Mr=Object(l["e"])("strong",null,"Date:",-1),Fr={class:"invoice-table"},Gr=Object(l["e"])("h5",null,"Product List",-1),Qr={class:"table table-bordered card-header"},Wr=Object(l["e"])("thead",null,[Object(l["e"])("tr",null,[Object(l["e"])("th",{scope:"col"},"Name"),Object(l["e"])("th",{scope:"col"},"Quantity"),Object(l["e"])("th",{scope:"col"},"Price"),Object(l["e"])("th",{scope:"col"},"Discount"),Object(l["e"])("th",{scope:"col"},"Total")])],-1),Yr=["onClick"],Jr={scope:"row"},Hr={class:"product-name"},Kr=Object(l["e"])("div",{class:"product-name-hover"},[Object(l["e"])("span",null,[Object(l["e"])("i",{class:"bi bi-pencil-square"})])],-1),Xr={class:"invoice-subtotal"},$r={class:"row"},zr={class:"col-6 offset-6"},Zr={class:"table"},ea=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Grand Total:")],-1),ta=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Paid:")],-1),ca=Object(l["e"])("td",null,[Object(l["e"])("strong",null,"Amount Due:")],-1);function la(e,t,c,o,r,a){var n=Object(l["w"])("AutoComplete");return Object(l["r"])(),Object(l["d"])("div",Jl,[Hl,Object(l["e"])("section",Kl,[Object(l["e"])("div",Xl,[Object(l["e"])("div",$l,[Object(l["e"])("div",zl,[Object(l["e"])("div",Zl,[Object(l["e"])("form",{onSubmit:t[14]||(t[14]=Object(l["G"])((function(){return a.submitPurchase&&a.submitPurchase.apply(a,arguments)}),["prevent"]))},[Object(l["e"])("div",eo,[Object(l["e"])("div",to,[Object(l["e"])("div",co,[lo,Object(l["e"])("div",oo,[Object(l["e"])("div",ro,[Object(l["h"])(n,{dataList:o.supplierList,title:"Search Supplier",onSelectedData:a.handleSelectSupplier,key:"supplier"},null,8,["dataList","onSelectedData"])]),Object(l["e"])("div",ao,[no,Object(l["e"])("div",so,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"supplierName","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.supplierName=e})},null,512),[[l["B"],o.supplierName]])])]),Object(l["e"])("div",uo,[io,Object(l["e"])("div",bo,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"supplierAddress","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.address=e})},null,512),[[l["B"],o.address]])])]),Object(l["e"])("div",po,[Oo,Object(l["e"])("div",jo,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"supplierContact","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.contact=e})},null,512),[[l["B"],o.contact]])])])])])])]),Object(l["e"])("div",mo,[Object(l["e"])("div",vo,[Object(l["e"])("div",ho,[go,Object(l["e"])("div",fo,[Object(l["e"])("div",yo,[wo,Object(l["e"])("div",No,[Object(l["e"])("input",{class:"form-control",list:"datalistOptions2",id:"productName",placeholder:"Type to search...",onInput:t[3]||(t[3]=function(e){return a.handleSelectProduct(e)}),value:o.productName},null,40,Po),Object(l["e"])("datalist",So,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.value},null,8,xo)})),128))])])]),Co,Object(l["e"])("div",To,[Object(l["e"])("div",_o,[Object(l["e"])("div",Do,[Ao,Object(l["e"])("div",ko,[Object(l["E"])(Object(l["e"])("input",{onKeyup:t[4]||(t[4]=Object(l["F"])((function(e){return a.handleSelectProductWithBarcode(e)}),["enter"])),type:"text",class:"form-control",id:"productBarcode","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.barcode=e})},null,544),[[l["B"],o.barcode]])])])]),Object(l["e"])("div",Ro,[Object(l["e"])("div",qo,[Eo,Object(l["e"])("div",Bo,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productQuantity","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.quantity=e})},null,512),[[l["B"],o.quantity]])])])])]),Object(l["e"])("div",Lo,[Object(l["e"])("div",Io,[Object(l["e"])("div",Vo,[Uo,Object(l["e"])("div",Mo,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"productPrice","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.price=e})},null,512),[[l["B"],o.price]])])])]),Object(l["e"])("div",Fo,[Object(l["e"])("div",Go,[Qo,Object(l["e"])("div",Wo,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"productDiscount","onUpdate:modelValue":t[8]||(t[8]=function(e){return o.discount=e})},null,512),[[l["B"],o.discount]])])])]),Object(l["e"])("div",Yo,[Object(l["e"])("div",Jo,[Ho,Object(l["e"])("div",Ko,[Object(l["e"])("input",{type:"number",class:"form-control",id:"productPrice",readonly:"",value:a.getTotalPrice()},null,8,Xo)])])])])]),Object(l["e"])("div",$o,[Object(l["e"])("div",zo,[Object(l["e"])("button",{class:"btn btn-success",type:"button",onClick:t[9]||(t[9]=function(e){return a.addProduct()})},"Add / Update")])])])])]),Object(l["e"])("div",Zo,[Object(l["e"])("div",er,[Object(l["e"])("div",tr,[cr,Object(l["e"])("div",lr,[Object(l["e"])("div",or,[rr,Object(l["e"])("div",ar,[Object(l["E"])(Object(l["e"])("select",{class:"form-select","onUpdate:modelValue":t[10]||(t[10]=function(e){return o.warehouse=e})},[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.warehouseList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.id},Object(l["y"])(e.name),9,nr)})),128))],512),[[l["A"],o.warehouse]])])]),Object(l["e"])("div",sr,[ur,Object(l["e"])("div",ir,[Object(l["E"])(Object(l["e"])("input",{type:"text",required:"",class:"form-control",id:"warehouseInvoice","onUpdate:modelValue":t[11]||(t[11]=function(e){return o.invoiceNo=e})},null,512),[[l["B"],o.invoiceNo]])])]),Object(l["e"])("div",dr,[br,Object(l["e"])("div",pr,[Object(l["E"])(Object(l["e"])("input",{type:"text",class:"form-control",id:"warhouseDatepicker","onUpdate:modelValue":t[12]||(t[12]=function(e){return o.dateSelected=e}),readonly:""},null,512),[[l["B"],o.dateSelected]])])]),Object(l["e"])("div",Or,[jr,Object(l["e"])("div",mr,[Object(l["E"])(Object(l["e"])("input",{type:"number",class:"form-control",id:"warhousePayment","onUpdate:modelValue":t[13]||(t[13]=function(e){return o.paymentReceived=e})},null,512),[[l["B"],o.paymentReceived]])])])])])])]),vr],32)])]),Object(l["e"])("div",hr,[Object(l["e"])("div",gr,[fr,Object(l["e"])("div",yr,[Object(l["e"])("div",wr,[Object(l["e"])("h4",null,Object(l["y"])(o.COMPANY_NAME),1),Nr]),Object(l["e"])("div",Pr,[Object(l["e"])("div",Sr,[Object(l["e"])("div",xr,[Object(l["e"])("p",null,[Cr,Object(l["g"])(" "+Object(l["y"])(o.supplierName),1)])]),Object(l["e"])("div",Tr,[Object(l["e"])("p",null,[_r,Object(l["g"])(" "+Object(l["y"])(o.invoiceNo),1)])]),Object(l["e"])("div",Dr,[Object(l["e"])("p",null,[Ar,Object(l["g"])(" "+Object(l["y"])(o.address),1)])]),kr]),Object(l["e"])("div",Rr,[Object(l["e"])("div",qr,[Object(l["e"])("p",null,[Er,Object(l["g"])(" "+Object(l["y"])(o.contact),1)])]),Br,Lr,Ir,Vr,Object(l["e"])("div",Ur,[Object(l["e"])("p",null,[Mr,Object(l["g"])(Object(l["y"])(o.dateSelected),1)])])])]),Object(l["e"])("div",Fr,[Gr,Object(l["e"])("table",Qr,[Wr,Object(l["e"])("tbody",null,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(o.productTable,(function(e){return Object(l["r"])(),Object(l["d"])("tr",{key:e.barcode,onClick:function(t){return a.setProductFromTable(e)}},[Object(l["e"])("th",Jr,[Object(l["e"])("div",Hr,[Object(l["g"])(Object(l["y"])(e.productName)+" ",1),Kr])]),Object(l["e"])("td",null,Object(l["y"])(e.quantity),1),Object(l["e"])("td",null,Object(l["y"])(e.price),1),Object(l["e"])("td",null,Object(l["y"])(e.discount),1),Object(l["e"])("td",null,Object(l["y"])(e.totalPrice),1)],8,Yr)})),128))])])]),Object(l["e"])("div",Xr,[Object(l["e"])("div",$r,[Object(l["e"])("div",zr,[Object(l["e"])("table",Zr,[Object(l["e"])("tbody",null,[Object(l["e"])("tr",null,[ea,Object(l["e"])("td",null,Object(l["y"])(a.getGrandTotal()),1)]),Object(l["e"])("tr",null,[ta,Object(l["e"])("td",null,Object(l["y"])(o.paymentReceived),1)]),Object(l["e"])("tr",null,[ca,Object(l["e"])("td",null,Object(l["y"])(a.getAmountDue()),1)])])])])])])])])])])])])])}c("b680");var oa={name:"Home",components:{},setup:function(){var e=Object(l["u"])(null),t=Object(l["u"])(null),c=Object(l["u"])(null),o=Object(l["u"])(""),r=":home:",a=Object(l["u"])(null),n=Object(l["u"])(null),s=Object(l["u"])(null),u=Object(l["u"])(null),i=Object(l["u"])(null),d=Object(l["u"])(null),b=Object(l["u"])(null),p=Object(l["u"])(null),O=Object(l["u"])("1"),j=Object(l["u"])(null),m=Object(l["u"])(null),v=Object(l["u"])(null),h=Object(l["u"])([]),g=Object(l["u"])(null),f=Object(l["u"])(null),y=Object(l["u"])(null),w=Object(l["u"])(null),N=Object(l["u"])(null),P=Object(l["u"])(null);P.value=[];var S=new Date;return m.value=S.getDate()+"/"+(S.getMonth()+1)+"/"+S.getFullYear(),Object(l["p"])(Object(wt["a"])(regeneratorRuntime.mark((function l(){var o,n,s,u,i,d;return regeneratorRuntime.wrap((function(l){while(1)switch(l.prev=l.next){case 0:return o=[],n=window.jQuery,n("#warhouseDatepicker").datepicker(),l.next=5,St();case 5:return s=l.sent,console.log(r,"api-supplier-list",s.data),s.data.forEach((function(e){var t={};t.value=e.name,t.id=e.contact,o.push(t)})),t.value=s.data,e.value=o,u=[],l.next=13,xt();case 13:return i=l.sent,console.log(r,"api-product-list",i.data),i.data.forEach((function(e){var t={};t.value=e.product_name.name+" - "+e.category.name,t.id=e.barcode,u.push(t)})),c.value=i.data,a.value=u,l.next=20,Ct();case 20:d=l.sent,console.log(r,"api-warehouse-list",d.data),N.value=d.data,N.value.length>0&&(O.value=N.value[0].id);case 24:case"end":return l.stop()}}),l)})))),{supplierList:e,selectedSupplier:o,componentName:r,COMPANY_NAME:Dt,productList:a,address:n,contact:s,barcode:u,quantity:i,price:d,discount:b,totalPrice:p,warehouse:O,invoiceNo:j,dateSelected:m,due:v,invoiceData:h,productName:g,supplierName:f,paymentReceived:y,productImage:w,warehouseList:N,rawProductList:c,rawSupplierList:t,productTable:P}},methods:{handleSelectSupplier:function(e){null!=e&&(this.selectedSupplier=this.rawSupplierList.find((function(t){return t.contact===e.id})),this.supplierName=this.selectedSupplier.name,this.address=this.selectedSupplier.address,this.contact=this.selectedSupplier.contact)},handleSelectProduct:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.product_name.name+" - "+t.category.name===e.target.value}));null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.barcode=t.barcode,this.quantity=1,this.price=t.default_purchase_price,this.discount=0,this.totalPrice=this.price)},handleSelectProductWithBarcode:function(e){console.log(this.componentName,e.target.value);var t=this.rawProductList.find((function(t){return t.barcode.toString()===e.target.value.toString()}));console.log(t),null!=t&&(this.productName=t.product_name.name+" - "+t.category.name,this.productImage=t.photo,this.quantity=1,this.price=t.default_purchase_price,this.discount=0,this.totalPrice=this.price)},getTotalPrice:function(){if(null==this.barcode)return 0;var e=this.price*this.quantity;return e-=e*this.discount/100,e},addProduct:function(){var e,t={};t.productName=this.productName,t.quantity=this.quantity,t.discount=this.discount,t.price=this.price,t.totalPrice=this.getTotalPrice(),t.barcode=this.barcode;var c=this.productTable.findIndex((function(e){return e.productName===t.productName}));-1!==c&&this.productTable.splice(c,1),0!==t.quantity?(this.productTable.push(t),this.paymentReceived=this.getGrandTotal(),(e=console).log.apply(e,["table"].concat(Object(yt["a"])(this.productTable))),this.resetProduct()):this.resetProduct()},getGrandTotal:function(){var e=0;return this.productTable.forEach((function(t){return e+=t.totalPrice})),Math.floor(e)},getAmountDue:function(){var e=this.getGrandTotal()-this.paymentReceived;return null!=e&&(e=Number.parseFloat(e).toFixed(2)),e},resetProduct:function(){this.productName="",this.quantity=0,this.discount=0,this.productImage="",this.barcode="",this.price=0},getDateToday:function(){var e=new Date;return e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()},setProductFromTable:function(e){this.productName=e.productName,this.quantity=e.quantity,this.discount=e.discount,this.price=e.price,this.barcode=e.barcode,this.totalPrice=this.getTotalPrice()},submitPurchase:function(){var e=Object(wt["a"])(regeneratorRuntime.mark((function e(){var t,c,l,o,r,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(confirm("Do you confirm to submit Purchase?")){e.next=2;break}return e.abrupt("return");case 2:if(0!=this.isValidPurchase()){e.next=4;break}return e.abrupt("return");case 4:return t={},t.name=this.supplierName,t.contact=this.contact,t.address=this.address,t.invoice_no=this.invoiceNo,t.payment_paid_gt=this.paymentReceived,t.payment_due_gt=this.getAmountDue(),t.date=this.dateSelected,null!=this.selectedSupplier&&(t.supplier=this.selectedSupplier.id),t.warehouse=this.warehouse,c=[],l={},l.debit_or_credit="CREDIT",l.amount=this.getGrandTotal(),l.date=this.dateSelected,l.payment_type="CASH",l.invoice_no=this.invoiceNo,null!=this.selectedSupplier&&(l.supplier=this.selectedSupplier.id),c.push(l),t.p_payment=c,o=[],this.productTable.forEach((function(e){var t={};t.product=e.barcode,t.invoice_no=a.invoiceNo,t.quantity=e.quantity,t.discount_in_percent=e.discount,t.price=e.price,o.push(t)})),t.productAndQuantity=o,console.log(this.componentName,"purchase-payload: ",JSON.stringify(t)),e.next=30,_t(t);case 30:r=e.sent,201===r.status&&alert("Purchase Record Complete!");case 32:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),isValidPurchase:function(){return 0!=this.productTable.length||(alert("Please add some product!"),!1)}}};c("f5eb");const ra=p()(oa,[["render",la]]);var aa=ra,na=[{path:"/",name:"home",component:Rt},{path:"/sales/",name:"sales",component:Yl},{path:"/purchase/",name:"purchase",component:aa}],sa=Object(g["a"])({history:Object(g["b"])("/"),routes:na}),ua=sa,ia={for:"customerDataList",class:"col-lg-4 col-form-label"},da={class:"col-lg-8"},ba={id:"datalistOptions"},pa=["value"];function Oa(e,t,c,o,r,a){return Object(l["r"])(),Object(l["d"])(l["a"],null,[Object(l["e"])("label",ia,Object(l["y"])(c.title),1),Object(l["e"])("div",da,[Object(l["e"])("input",{class:"form-control",list:"datalistOptions",id:"exampleDataList",placeholder:"Type to search...",onInput:t[0]||(t[0]=function(e){return a.handleInput(e)})},null,32),Object(l["e"])("datalist",ba,[(Object(l["r"])(!0),Object(l["d"])(l["a"],null,Object(l["v"])(c.dataList,(function(e){return Object(l["r"])(),Object(l["d"])("option",{key:e.id,value:e.value},Object(l["y"])("Phone: "+e.id),9,pa)})),128))])])],64)}c("4de4");var ja={name:"AutoComplete",props:["dataList","title"],emits:["selectedData"],methods:{handleInput:function(e){console.log(this.dataList);var t=this.dataList.filter((function(t){return t.value===e.target.value}))[0];this.$emit("selectedData",t)}}};const ma=p()(ja,[["render",Oa]]);var va=ma,ha=Object(l["c"])(h);ha.component("AutoComplete",va),ha.use(ua).mount("#app")},6500:function(e,t,c){},"79b9":function(e,t,c){"use strict";c("6500")},8022:function(e,t,c){"use strict";c("a689")},"8ad2":function(e,t,c){},a689:function(e,t,c){},a9b3:function(e,t,c){},f5eb:function(e,t,c){"use strict";c("0a29")},ff57:function(e,t,c){"use strict";c("8ad2")}});
//# sourceMappingURL=index.db91f328.js.map